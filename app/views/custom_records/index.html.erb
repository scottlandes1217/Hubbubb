<% content_for :navbar do %>
  <%= render 'shared/navbar_org' %>
<% end %>

<div class="container my-5" data-controller="list-view">
  <div class="mb-3">
    <%= link_to "â† Back to Object", organization_custom_object_path(@organization, @custom_object), class: "text-muted" %>
  </div>
  
  <%= render 'shared/list_view',
      organization: @organization,
      object_type: 'CustomObject',
      object_id: @custom_object.id,
      records: @custom_records,
      new_record_path: new_custom_object_record_path(@organization, @custom_object),
      record_path_proc: ->(record) { custom_object_record_path(@organization, @custom_object, record) },
      columns: @columns,
      current_view: @current_view,
      custom_actions: ->(record) {
        capture do
          %>
          <%= link_to "Edit", edit_custom_object_record_path(@organization, @custom_object, record), class: "btn btn-outline-secondary btn-sm" %>
          <%= link_to "Delete", custom_object_record_path(@organization, @custom_object, record), 
                      method: :delete, 
                      data: { confirm: "Are you sure? This action cannot be undone." },
                      class: "btn btn-danger btn-sm" %>
          <%
        end
      } %>
</div> 